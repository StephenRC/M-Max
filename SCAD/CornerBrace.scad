////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// CornerBrace.scad
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// created 12/27/2020
// last update 12/27/20
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// https://creativecommons.org/licenses/by-sa/4.0/
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
include <BOSL2/std.scad>
include <inc/screwsizes.scad>
$fn=100;
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
Thickness=4.5;
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

//CornerBrace(2);
CornerBraceV2(2);

//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

module cubeX(size,Rounding) { // temp module
	cuboid(size,rounding=0.5,p1=[0,0]);
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

module CornerBrace(Qty=1) {
	for(i = [0:Qty-1]) {
		translate([0,25*i,0]) difference() {
			union() {
				color("red") cubeX([20,20,Thickness],2);
				color("cyan") cubeX([Thickness,20,20],2);
				SideSupport();
				translate([0,16,0]) SideSupport();
			}
			ScrewMount(screw5);
		}
	}
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

module CornerBraceV2(Qty=1) {
	for(i = [0:Qty-1]) {
		translate([0,25*i,0]) difference() {
			color("cyan") hull() {
				cubeX([20,20,Thickness],2);
				translate([0,0,16])cubeX([Thickness,20,1],2);
			}
			ScrewMount(screw5);
		}
	}
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

module SideSupport() {
	difference() {
		translate([-17.5,0,1.5]) color("blue") rotate([0,45,0]) cubeX([27,Thickness,27],2);
		translate([-18,0,-38]) color("gray") cube([40,6,40]);
		translate([-38,0,-5]) color("lightgray") cube([40,6,40]);
	}
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

module ScrewMount(Screw=screw5) {
	translate([10,10,-Thickness-0.5]) color("green") cylinder(h=10,d=screw5);
	translate([10,10,Thickness-0.5]) color("pink") cylinder(h=15,d=screw5hd);
	translate([-Thickness-0.5,10,10]) rotate([0,90,0]) color("pink") cylinder(h=10,d=screw5);
	translate([Thickness-0.5,10,10]) rotate([0,90,0]) color("green") cylinder(h=15,d=screw5hd);
}

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////