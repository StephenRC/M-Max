///////////////////////////////////////////////////////////////////////////////////////////////////
// PipeToTubing.scad -- mount a silencer on the brad air pump inlet
//////////////////////////////////////////////////////////////////////////////////////////////////
// C:4/18/21
// L:1/7/22
/////////////////////////////////////////////////////////////////////////////////////////////////
// https://creativecommons.org/licenses/by-sa/4.0/
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
include <BOSL2/std.scad>
include <BOSL2/threading.scad>
//////////////////////////////////////////////////////////////////////////////////////////////////////
LayerThickness=0.4;
//////////////////////////////////////////////////////////////////////////////////////////////////////

PipeToTubing(3/8,0); // 3/8" pipe threades

///////////////////////////////////////////////////////////////////////////////////////////////////////////

module PipeToTubing(Size=3/8,ShowCrossSection=0) {
	difference() {
		NutBase();
		if(ShowCrossSection) translate([-12,0,-12]) color("gray") cube([25,25,25]);   // to see cross section
		translate([0,0,-3]) color("cyan") npt_threaded_rod(size=Size,$fn=72);
	}
	translate([0,0,4.6276]) color("white") cylinder(h=LayerThickness,d=18);
}

///////////////////////////////////////////////////////////////////////////////////////////////////////////////

module NutBase() {
	difference() {
		union() {
			translate([0,0,0]) color("blue") cyl(h=20,d=25,chamfer=2,$fn=6);
			color("plum") cylinder(h=25,d=6,$fn=100);
		}
		translate([0,0,-12]) cylinder(h=10,r1=10,r2=3,$fn=100); // bevel thread start
		translate([0,0,0]) color("red") cylinder(h=30,d=4.5,$fn=100);
	}
}

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////
